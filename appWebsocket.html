<!DOCTYPE html>
<html>
<head>
<title>DataChannel simple example</title>
</head>
<body>
    <script src='/socket.io/socket.io.js'></script>
    <script>
        var socket=io();

        var startButton = document.getElementById("startButton");
        var sendButton = document.getElementById("sendButton");
        var closeButton = document.getElementById("closeButton");
        
        startButton.disabled = false;
        sendButton.disabled = true;
        closeButton.disabled = true;
        
        startButton.onclick = createConnection;
        sendButton.onclick = sendData;
        closeButton.onclick = closeDataChannels;

        var sendData= function(){
            var text = document.getElementById('dataChannelSend').value;
            socket.emit('chat message',text);
            console.log('sent data :' + text);
        }
        
        var receive=function(msg) {
            document.getElementById('dataChannelReceive').append(msg);            
        }

    </script>
    <textarea rows="5" cols="50" id="dataChannelSend" disabled placeholder="
    1: Press Start; 2: Enter text; 3: Press Send."></textarea>
    <textarea rows="5" cols="50" id="dataChannelReceive" disabled></textarea>
    <div id="buttons">
        <button id="startButton">Start</button>
        <button id="sendButton">Send</button>
        <button id="closeButton">Stop</button>
    </div>
    <script src="js/dataChannel.js"></script>
</body>
</html>